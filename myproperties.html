<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My properties</title>
  <link rel="stylesheet" href="css/main2.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,300,700" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/myproperties.css">
  <link rel="stylesheet" href="css/normal.css">
  
  <script src="./script/script.js"></script>
  <style>
    .agent-name {
      display: block;
      position: relative;
      height: 30px;
      /* original: 40px */
      line-height: 30px;
      /* original: 40px */
    } 

    .agent-name-text {
      vertical-align: middle;
      background-color: #E1EDFF;
      border-radius: 1.5rem;
      /* original: 2rem */
      padding: 1.5px 5.25px;
      /* original: 2px 7px */
      font-size: 0.675rem;
      /* original: 0.9rem */
      font-weight: 600;
      /* original: 600 */
    }

    .call-icon {
      vertical-align: middle;
      margin-right: 3.375px;
      /* Reduced by 10% from 3.75px */
      padding: 1.35px 4.725px;
      /* Reduced by 10% from 1.5px 5.25px */
      border-radius: 1.35rem;
      /* Reduced by 10% from 1.5rem */
      background-color: #4154F1;

    }

    .arrow-icon img {
      width: clamp(0.578rem, -1.3125rem + 1.225vw, 1.838rem);
      /* Reduced by 30% from clamp(0.825rem, -1.875rem + 1.75vw, 2.625rem) */


    }


    .active-card {
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.953);
      z-index: 20;
      position: relative;
    }

    .card-hover:hover {
      box-shadow: 0 3px 5px rgba(0, 6, 14, 0.953);
    }

    .pagetitle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      /* padding: 7.5px; */
      /* original: 10px */
      width: 97.5%;
    }


    .btn {
      padding: 5px 65px;
      font-style: normal;
    }

    .form-btn-reset {
      box-shadow: 3px 4px 6px rgb(0 0 0 / 13%);
      border-color: #4154F1 !important;
      background-color: white !important;
      border: 1px solid #4153f170 !important;
      color: #676767 !important;
    }

    .form-btn-save {
      background-color: #4154F1 !important;
      box-shadow: 3px 4px 6px rgb(0 0 0 / 13%);
      color: white;
    }

    .justify-content-end {
      margin-top: 11%;
      gap: 26px;
    }

    .accordion-toggle {
      display: grid;
      grid-template-columns: 2% 55% 20% 15% 8%;
    }

    img.action-icon.right-icon {
      width: 1.125rem;
      /* Reduced by 25% from 1.5rem */
      padding: 0;
    }

    .action-icon.left-icon {
      width: 1.125rem;
      /* Reduced by 25% from 1.5rem */
      padding: 0;
    }


    .action {
      display: flex;
      justify-content: center;
      align-items: center;
      width: unset;
      gap: 0.3rem;
    }

    .arrow-icon {
      width: unset;
    }

    .agent-accordion {
      display: grid;
      grid-template-columns: 2% 60% 25% 9%;
    }


    .accordion-container {
      font-weight: 500;
      font-size: clamp(0.825rem, -1.875rem + 1.75vw, 2.625rem);
    }

    .accordion-header {
      font-weight: 700;
    }



    /* --------- changes -----------  */

    .btn {
      padding: 6px 35px;
      font-style: normal;
    }
    .even-num{
      background-color: #F7F9FF;
    }
  

    @media (max-width:500px) {


      .action {
        display: none;
      }

      .agent-accordion {
        display: grid;
        grid-template-columns: 2% 60% 33%;
      }

      .action-val.action-heading {
        text-align: end;
      }

      .action-val {
        justify-content: end;
      }

      .popup-content {
        width: 90%;
      }

      p#popupMessage {
        font-size: 0.8rem;
      }

      .btn {
        padding: 6px 35px;
        font-style: normal;
      }

      .status-title {
        font-size: 1.2rem;
      }

      .popup-content {
        height: unset;
      }

      .action-icon-responsive {
        width: unset;
      }
      .action-responsive img{
        width: 1.2rem;
      }
    }

    @media (max-width: 300px) {
      .btn {
        padding: 6px 20px;
        font-style: normal;
      }
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      initializeAll();
    });
  </script>
</head>

<body>
  <div id="header-container"></div>
  <div id="sidebar-container"></div>


  <main id="main-content" class="main-content">
    <div class="pagetitle">
      <h1>My properties</h1>
      <div class="button-container">
        <a class="add-properties-button" href="add_properties.html">Add Properties</a>

      </div>
      <div class="button-container2">
        <a class="add-properties-button" href="add_properties.html">+</a>

      </div>
    </div><!-- End Page Title -->

    <div class="container-div">
      <div class="table-wrap" id="agentTable">

        <div class="accordion-container accordion-header ">
          <div class="">
            <div class="accordion-toggle">
              <div class="arrow-icon"></div>
              <div class="td-address td-address-header">Address</div>

              <div class="agent-name-heading admin-only">
                <span>Agent Name</span>
              </div>

              <div class="action-val action-heading">
                <span>Status</span>
              </div>
              <div class="action">Action</div>
            </div>
          </div>
        </div>


        <!-- pop-up message for changing status -->


        <div class="popup-overlay" id="popupOverlay">
          <div class="popup-content">
            <h2 class="status-title">Status Title</h2>
            <p id="popupMessage">Do you want to change the status?</p>
            <div class="d-flex justify-content-end">
              <button type="reset" class="btn btn-secondary me-2 form-btn-reset no ">No</button>
              <button type="submit" class="btn btn-primary form-btn-save yes">yes</button>
            </div>
          </div>
        </div>

        <!-- pop-up message END here -->


        


          <!-- Placeholder for dynamic rows -->
        <div id="accordionRows">  </div>

      </div>
    </div>

    <div class="pagination-container">
      <div class="pagination-content">
        <div class="items-per-page">

          <select id="itemsPerPage" class="custom-select">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
          </select>


          <p>Showing 1 to 10 out of 100 entries</p>
        </div>
        <ul class="pagination">
          <li><a href="#"><img src="./images/double_right.svg" alt="" class="pagiantion-img"></a></li>
          <li><a href="#"><img src="./images/single_right.svg" alt="" class="pagiantion-img"></a></li>
          <li><a href="#" class="page-active">1</a></li>
          <li><a href="#">2</a></li>
          <li class="hide-on-small"> <a href="#">3</a></li>
          <li class="hide-on-small"><a href="#">4</a></li>
          <li class="hide-on-small"><a href="#">5</a></li>
          
          <li>
            <a href="#"><img src="./images/single_right.svg" alt="" class="pagiantion-img double-right-rotated"></a>
          </li>
          <li class="hide-on-small"><a href="#"><img src="./images/double_right.svg" alt=""
            class="pagiantion-img double-right-rotated"></a>
      </li>
        </ul>
      </div>
    </div>

  </main>

  <script>
    let currentElement = null;

    function updatePopupMessage(element) {
        const isActive = element.querySelector('span').classList.contains('active');
        const popupMessage = document.getElementById('popupMessage');

        if (isActive) {
            popupMessage.innerText = "Are you sure you want to inactive your status??";
        } else {
            popupMessage.innerText = "Are you sure you want to active your status??";
        }
    }

    function toggleStatus() {
        const isActive = currentElement.querySelector('span').classList.contains('active');

        if (isActive) {
            // Change to inactive
            currentElement.innerHTML = `
            <span class="in-active">
                <img src="./images/in_active_icon.svg" alt="status icon" class="status-icon">In Active
            </span>
            `;
        } else {
            // Change to active
            currentElement.innerHTML = `
            <span class="active">
                <img src="./images/active_icon.svg" alt="status icon" class="status-icon">Active
            </span>
            `;
        }

        document.getElementById('popupOverlay').style.display = 'none';
        addClickListeners();
    }

    function addClickListeners() {
        document.querySelectorAll('.action-change').forEach(element => {
            element.addEventListener('click', function () {
                currentElement = element;
                updatePopupMessage(element);
                document.getElementById('popupOverlay').style.display = 'flex';
            });
        });
    }

    document.querySelector('.popup-content .no').addEventListener('click', function () {
        document.getElementById('popupOverlay').style.display = 'none';
    });

    document.querySelector('.popup-content .yes').addEventListener('click', toggleStatus);

    // function updateAccordionClasses() {
    //         const accordions = document.querySelectorAll('.accordion-item');

    //         accordions.forEach((accordion, index) => {
    //             console.log("Processing accordion:", index + 1, accordion);
    //             if (index > 0 && (index + 2) % 2 === 0) {
    //                 accordion.classList.add('even-num');
    //             } else {
    //                 accordion.classList.remove('even-num');
    //             }
    //         });
    //     }
   
    document.addEventListener('DOMContentLoaded', () => {
        addClickListeners();
        // updateAccordionClasses();
    });
    
  </script>
  <!-- Template Main JS File -->
  

  <script>
        document.addEventListener('DOMContentLoaded', function () {
            const rows = [
                {
                    address: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi, omnis?',
                    agentName: 'John Doe',
                    status: 'active',
                    floors: 10,
                    rooms: 10,
                    living: 10,
                    washroom: 10,
                    carpet: 'No',
                    pool: 'Yes',
                    garden: 'Yes',
                    statusInfo: 'No'
                },
                {
                    address: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi, omnis?',
                    agentName: 'Jane Doe',
                    status: 'inactive',
                    floors: 8,
                    rooms: 8,
                    living: 8,
                    washroom: 8,
                    carpet: 'Yes',
                    pool: 'No',
                    garden: 'No',
                    statusInfo: 'Yes'
                }
                // Add more rows as needed
            ];

            const accordionRows = document.getElementById('accordionRows');

            rows.forEach((row, index) => {
                const statusClass = row.status === 'active' ? 'active' : 'in-active';
                const statusIcon = row.status === 'active' ? './images/active_icon.svg' : './images/in_active_icon.svg';
                const statusText = row.status === 'active' ? 'Active' : 'In-Active';
                const evenClass = index % 2 === 1 ? ' even-num' : (row, index)
                const rowHTML = `
                    <div class="accordion-container">
                        <div class="accordion-item ${evenClass}">
                            <div class="accordion-toggle" aria-expanded="false">

                                <div class="arrow-icon"><img src="./images/arrow_down.svg" alt=""></div>
                                <div class="td-address">${row.address}</div>

                                <div class="agent-name admin-only">
                                    <img src="images/call_icon.svg" alt="Call" class="call-icon">
                                    <span class="agent-name-text">${row.agentName}</span>
                                </div>

                                <div class="action-val action-change" data-status="${row.status}">
                                    <span class="${statusClass}">
                                        <img src="${statusIcon}" alt="status icon" class="status-icon">${statusText}
                                    </span>
                                </div>
                                <div class="action">
                                    <img src="images/pencile_icon.svg" alt="Edit" class="action-icon left-icon">
                                    <img src="images/eye_icon.svg" alt="View" class="action-icon right-icon">
                                </div>
                            </div>
                            <div class="accordion-content collapse">
                                <div class="collapse-content">
                                    <div class="left-buttons">
                                        <button class="info-btn"><img src="./images/floors_icon.svg" alt="" class="info-btn-icon">Floors: ${row.floors}</button>
                                        <button class="info-btn"><img src="./images/rooms_icon.svg" alt="" class="info-btn-icon"> Rooms: ${row.rooms}</button>
                                        <button class="info-btn"><img src="./images/living_icon.svg" alt="" class="info-btn-icon">Living: ${row.living}</button>
                                        <button class="info-btn"><img src="./images/washroom_icon.svg" alt="" class="info-btn-icon"> Washroom: ${row.washroom}</button>
                                    </div>
                                    <div class="right-info">
                                        <div class="info-div">Carpet Cloth: ${row.carpet}</div>
                                        <div class="info-div">Swimming Pool: ${row.pool}</div>
                                        <div class="info-div">Garden: ${row.garden}</div>
                                        <div class="info-div">Status: ${row.statusInfo}</div>
                                    </div>
                                    <div class="accordian-bottom">
                                        <div class="action-responsive">Action</div>
                                        <div class="action-responsive">
                                            <img src="images/pencile_icon.svg" alt="Edit" class="action-icon-responsive left-icon">
                                            <img src="images/eye_icon.svg" alt="View" class="action-icon-responsive right-icon">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                accordionRows.innerHTML += rowHTML;
            });

            addClickListeners();
          });
    </script>
    <script src="script/myproperties.js"></script>

  
</body>

</html>




